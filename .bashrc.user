#!/bin/bash

alias n="nvim"

alias docs="cd ~/Documents"
alias pics="cd ~/Pictures"
alias down="cd ~/Downloads"
alias od="cd ~/OneDrive"

# Go to Git repo
gr() {
  git_repos="/home/${USER}/Documents/Git_Repos";

  if [ -d ${git_repos}/$1 ]; then
    cd "${git_repos}/$1";
  else
    if [ -d ${git_repos} ]; then
      echo "$1 is not cloned in ${git_repos}";
    else
      echo "Git repo directory ${git_repos} does not exist on this machine";
    fi
  fi
}

alias tm="tmux"
alias tmns="tmux new -s"
alias tmls="tmux ls"
alias tma="tmux a"
alias tmat="tmux a -t"
alias tmks="tmux kill-session -t"

alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias ~="cd ~"

alias fexp="nautilus --browser $# &"

# Why use \001 and \002? https://stackoverflow.com/a/43462720
__ansi_BLK="\001\033[01;30m\002"
__ansi_RED="\001\033[01;31m\002"
__ansi_GRN="\001\033[01;32m\002"
__ansi_YLW="\001\033[01;33m\002"
__ansi_BLU="\001\033[01;34m\002"
__ansi_PUR="\001\033[01;35m\002"
__ansi_CYN="\001\033[01;36m\002"
__ansi_WHT="\001\033[01;37m\002"
__ansi_RST="\001\033[00m\002"

decorate_cur_conda_env() {
  if [[ -n ${CONDA_DEFAULT_ENV} ]]; then
    echo -e "${__ansi_WHT}(${__ansi_GRN}${CONDA_DEFAULT_ENV}${__ansi_WHT})"
  fi
}

# PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
# If ${debian_chroot} is defined (not null), then use it.  Else, use "".

set_my_prompt() {
  local __debian_chroot="${debian_chroot:+($debian_chroot)}"
  local __user_and_host="${__ansi_YLW}\u${__ansi_WHT}@${__ansi_BLU}\h${__ansi_WHT}:"
  local __cur_location="${__ansi_CYN}\w/"
  local __git_branch="\$(__git_ps1 \"${__ansi_WHT}[${__ansi_YLW}\Ue725 ${__ansi_GRN}%s${__ansi_WHT}] \")"
  local __conda="\$(decorate_cur_conda_env)"
  local __ending="${__ansi_RED}\$${__ansi_RST} "

  export PS1="${__debian_chroot}${__user_and_host} ${__cur_location} ${__git_branch}${__conda} ${__ending}"
}

set_my_prompt

pushd() {
  if [ $# -eq 0 ]; then
    DIR="${HOME}"
  else
    DIR="$1"
  fi

  builtin pushd "${DIR}" > /dev/null
}

popd() {
  builtin popd > /dev/null
}

alias cd='pushd'
alias -- -='popd'

alias ls='exa -lFb --icons --color always'
alias la='ls -a'
alias tree='ls --tree'

alias bat='batcat'

alias gs='git st'

alias t='trash'
